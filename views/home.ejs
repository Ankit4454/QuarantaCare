<% if(locals.user) { %>
    <div class="relative min-h-screen backdrop-blur flex bg-texture bg-cover px-8 sm:py-0">
        <ul
            class="flex-column space-y space-y-4 text-sm font-medium text-gray-500 dark:text-gray-400 md:me-4 mb-4 md:mb-0">
            <li>
                <a href="#" id="dashboard-link" onclick="showTab('dashboard');"
                    class="hidden lg:inline-flex items-center py-2 px-6 bg-blue-500 hover:bg-blue-600 text-sm text-white font-bold rounded-xl transition duration-200 w-full">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z" />
                    </svg>
                    <div class="ml-2">
                        Dashboard
                    </div>
                </a>
            </li>
            <li>
                <a href="#" id="patient-link" onclick="showTab('patient');"
                    class="hidden lg:inline-flex items-center lg:ml-auto lg:mr-3 py-2 px-6 bg-gray-50 hover:bg-gray-100 text-sm text-gray-900 font-bold  rounded-xl transition duration-200 w-full">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z" />
                    </svg>
                    <div class="ml-2">
                        Register Patient
                    </div>
                </a>
            </li>
            <li>
                <a href="#" id="report-link" onclick="showTab('report');"
                    class="hidden lg:inline-flex items-center lg:ml-auto lg:mr-3 py-2 px-6 bg-gray-50 hover:bg-gray-100 text-sm text-gray-900 font-bold rounded-xl transition duration-200 w-full">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z" />
                    </svg>
                    <div class="ml-2">
                        Reports
                    </div>
                </a>
            </li>
        </ul>
        <div id="dashboard-tab"
            class="p-6 bg-gray-50 text-medium text-gray-500 dark:text-gray-400 bg-gray-100 rounded-lg w-full">
            <h3 class="text-lg font-bold text-gray-900 mb-2">All Patients</h3>
            <ul role="list" class="divide-y divide-gray-100">
                <% for(patient of patients){ %>
                    <a href="/patients/<%= patient.id %>/all_reports" class="viewPatient">
                        <li class="flex justify-between gap-x-6 py-5">
                            <div class="flex min-w-0 gap-x-4">
                                <div class="min-w-0 flex-auto">
                                    <p class="text-sm font-semibold leading-6 text-gray-900">
                                        <%= patient.userName %>
                                    </p>
                                    <p class="mt-1 truncate text-xs leading-5 text-gray-500">
                                        <%= patient.email %>
                                    </p>
                                </div>
                            </div>
                            <div class="hidden shrink-0 sm:flex sm:flex-col sm:items-end">
                                <p class="text-sm font-semibold leading-6 text-gray-900">by <%=
                                        patient.createdByDoctor.userName %>
                                </p>
                                <a class="relative flex flex-col items-center group" href="/patients/delete/<%= patient.id %>"><svg xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff0000"
                                        class="w-6 h-6">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
                                    </svg>
                                    <div class="absolute bottom-0 flex flex-col items-center hidden mb-6 group-hover:flex">
                                        <span class="relative z-10 p-2 text-xs leading-none text-white whitespace-no-wrap bg-black shadow-lg">Delete</span>
                                        <div class="w-3 h-3 -mt-2 rotate-45 bg-black"></div>
                                    </div>
                                </a>
                            </div>
                        </li>
                    </a>
                    <% } %>
            </ul>
        </div>
        <div id="patient-tab"
            class="hidden p-6 bg-gray-50 text-medium text-gray-500 dark:text-gray-400 bg-gray-100 rounded-lg w-full">
            <h3 class="text-lg font-bold text-gray-900 mb-2">Register Patient</h3>
            <form class="max-w-[420px] min-w-[320px]" action="/patients/register" method="POST" autocomplete="off">
                <div class="mt-10 relative">
                    <input id="userName" name="userName" type="text"
                        class="peer bg-gray-50 w-full px-0.5 border-0 border-b-2 border-gray-300 placeholder-transparent focus:ring-0 focus:border-blue-600 focus:outline-none"
                        placeholder="Patient's Username" required />
                    <label for="userName"
                        class="absolute left-0 -top-4 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-1 peer-focus:-top-4 peer-focus:text-blue-600 peer-focus:text-sm">Username</label>
                </div>
                <div class="mt-10 relative">
                    <input id="email" name="email" type="text"
                        class="peer bg-gray-50 w-full px-0.5 border-0 border-b-2 border-gray-300 placeholder-transparent focus:ring-0 focus:border-blue-600 focus:outline-none"
                        placeholder="Patient's Email" required />
                    <label for="email"
                        class="absolute left-0 -top-4 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-1 peer-focus:-top-4 peer-focus:text-blue-600 peer-focus:text-sm">Email</label>
                </div>
                <div class="mt-10 relative">
                    <input id="phoneNumber" name="phoneNumber" type="text"
                        class="peer bg-gray-50 w-full px-0.5 border-0 border-b-2 border-gray-300 placeholder-transparent focus:ring-0 focus:border-blue-600 focus:outline-none"
                        placeholder="Patient's Phone Number" required />
                    <label for="phoneNumber"
                        class="absolute left-0 -top-4 text-gray-600 text-sm transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-1 peer-focus:-top-4 peer-focus:text-blue-600 peer-focus:text-sm">Phone
                        Number</label>
                </div>

                <button type="submit"
                    class="w-full mt-14 py-4 text-lg text-white font-semibold text-center rounded-full bg-blue-500 transition-all hover:bg-blue-600 focus:outline-none">Register</button>
            </form>
        </div>
        <div id="report-tab"
            class="hidden p-6 bg-gray-50 text-medium text-gray-500 dark:text-gray-400 bg-gray-100 rounded-lg w-full">
            <div class="flex items-center justify-between">
                <h3 class="text-lg font-bold text-gray-900 mb-2">All Reports</h3>
                <div class="flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
                    </svg>
                    <ul id="filter1"
                        class="filter-switch ml-2 inline-flex items-center relative h-10 p-1 space-x-1 bg-gray-200 rounded-md font-semibold text-blue-600 my-4">
                        <li class="filter-switch-item flex relative h-8 bg-gray-300x">
                            <input type="radio" name="filter1" id="filter1-0" class="sr-only" onclick="filterReports();" checked>
                            <label for="filter1-0"
                                class="h-8 py-1 px-2 text-sm leading-6 text-gray-600 hover:text-gray-800 bg-white rounded shadow">
                                All
                            </label>
                            <div aria-hidden="true" class="filter-active"></div>
                        </li>
                        <li class="filter-switch-item flex relative h-8 bg-gray-300x">
                            <input type="radio" name="filter1" id="filter1-1" class="sr-only" onclick="filterReports();">
                            <label for="filter1-1"
                                class="h-8 py-1 px-2 text-sm leading-6 text-gray-600 hover:text-gray-800 bg-white rounded shadow">
                                Negative
                            </label>
                        </li>
                        <li class="filter-switch-item flex relative h-8 bg-gray-300x">
                            <input type="radio" name="filter1" id="filter1-2" class="sr-only" onclick="filterReports();">
                            <label for="filter1-2"
                                class="h-8 py-1 px-2 text-sm leading-6 text-gray-600 hover:text-gray-800 bg-white rounded shadow">
                                Travelled-Quarantine
                            </label>
                        </li>
                        <li class="filter-switch-item flex relative h-8 bg-gray-300x">
                            <input type="radio" name="filter1" id="filter1-3" class="sr-only" onclick="filterReports();">
                            <label for="filter1-3"
                                class="h-8 py-1 px-2 text-sm leading-6 text-gray-600 hover:text-gray-800 bg-white rounded shadow">
                                Symptoms-Quarantine
                            </label>
                        </li>
                        <li class="filter-switch-item flex relative h-8 bg-gray-300x">
                            <input type="radio" name="filter1" id="filter1-4" class="sr-only" onclick="filterReports();">
                            <label for="filter1-4"
                                class="h-8 py-1 px-2 text-sm leading-6 text-gray-600 hover:text-gray-800 bg-white rounded shadow">
                                Positive-Admit
                            </label>
                        </li>
                    </ul>
                </div>
            </div>

            <ul role="list" id="reportsListDiv" class="divide-y divide-gray-100">
                <% for(report of reports){ %>
                    <li class="flex justify-between gap-x-6 py-5">
                        <div class="flex min-w-0 gap-x-4">
                            <div class="min-w-0 flex-auto">
                                <p class="text-sm font-semibold leading-6 text-gray-900">
                                    <%= report.patient.userName %>
                                </p>
                                <p class="mt-1 truncate text-xs leading-5 text-gray-500">
                                    <%= report.status %>
                                </p>
                            </div>
                        </div>
                        <div class="hidden shrink-0 sm:flex sm:flex-col sm:items-end">
                            <p class="text-sm font-semibold leading-6 text-gray-900">by <%= report.doctor.userName %>
                            </p>
                            <p class="text-sm leading-6 text-gray-900">
                                <%= report.date.toLocaleDateString('en-GB') %>
                            </p>
                            <div class="flex items-center justify-center">
                                <a class="relative flex flex-col items-center group" href="/reports/view/<%= report.id %>" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="#2563EB" class="w-6 h-6">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                                    </svg>
                                    <div class="absolute bottom-0 flex flex-col items-center hidden mb-6 group-hover:flex">
                                        <span class="relative z-10 p-2 text-xs leading-none text-white whitespace-no-wrap bg-black shadow-lg">Download</span>
                                        <div class="w-3 h-3 -mt-2 rotate-45 bg-black"></div>
                                    </div>
                                </a>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
                                    class="w-4 h-4 current-fill" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 5v0m0 7v0m0 7v0m0-13a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
                                </svg>
                                <a class="relative flex flex-col items-center group" href="/reports/delete/<%= report.id %>"><svg xmlns="http://www.w3.org/2000/svg"
                                        fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff0000"
                                        class="w-6 h-6">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
                                    </svg>
                                    <div class="absolute bottom-0 flex flex-col items-center hidden mb-6 group-hover:flex">
                                        <span class="relative z-10 p-2 text-xs leading-none text-white whitespace-no-wrap bg-black shadow-lg">Delete</span>
                                        <div class="w-3 h-3 -mt-2 rotate-45 bg-black"></div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </li>
                    <% } %>
            </ul>
        </div>

    </div>
    <% } else { %>
        <div
            class="relative min-h-screen backdrop-blur flex flex-col items-center bg-texture bg-cover px-8 sm:py-0">
            <div class="carousel">
                <div class="carousel-inner">
                    <input class="carousel-open" type="radio" id="carousel-1" name="carousel" aria-hidden="true" hidden="" checked="checked">
                    <div class="carousel-item">
                        <img src="/images/slider-1.jpeg">
                    </div>
                    <input class="carousel-open" type="radio" id="carousel-2" name="carousel" aria-hidden="true" hidden="">
                    <div class="carousel-item">
                        <img src="/images/slider-2.jpeg">
                    </div>
                    <input class="carousel-open" type="radio" id="carousel-3" name="carousel" aria-hidden="true" hidden="">
                    <div class="carousel-item">
                        <img src="/images/slider-3.jpeg">
                    </div>
                    <label for="carousel-3" class="carousel-control prev control-1">‹</label>
                    <label for="carousel-2" class="carousel-control next control-1">›</label>
                    <label for="carousel-1" class="carousel-control prev control-2">‹</label>
                    <label for="carousel-3" class="carousel-control next control-2">›</label>
                    <label for="carousel-2" class="carousel-control prev control-3">‹</label>
                    <label for="carousel-1" class="carousel-control next control-3">›</label>
                    <ol class="carousel-indicators">
                        <li>
                            <label for="carousel-1" class="carousel-bullet">•</label>
                        </li>
                        <li>
                            <label for="carousel-2" class="carousel-bullet">•</label>
                        </li>
                        <li>
                            <label for="carousel-3" class="carousel-bullet">•</label>
                        </li>
                    </ol>
                </div>
            </div>
            <div class="mt-8 p-6 bg-gray-50 text-medium text-gray-500 dark:text-gray-400 bg-gray-100 rounded-lg w-full">
                <h3 class="text-lg font-bold text-gray-900 mb-2">COVID Care at Our Hospital</h3>
                <p class="text-sm leading-6 text-gray-600">
                    We are committed to providing exceptional COVID care services to our patients. Our dedicated team of healthcare professionals follows strict safety protocols to ensure the well-being of everyone who walks through our doors.
                    Explore the features and benefits of our COVID care platform, designed to offer comprehensive support during these challenging times. From testing to treatment, we prioritize the health and safety of our community.
                </p>
            </div>
            <div class="mt-8 p-6 bg-gray-50 text-medium text-gray-500 dark:text-gray-400 bg-gray-100 rounded-lg w-full">
                <h3 class="text-lg font-bold text-gray-900 mb-2">Your Trusted Partner in COVID Care</h3>
                <p class="text-sm leading-6 text-gray-600">
                    Explore our platform to learn more about the COVID care services offered by our hospital. We understand the importance of providing timely and effective care during these challenging times.
                    Our experienced healthcare professionals are here to guide you through the COVID care journey, offering testing, treatment, and support services. Your health and safety are our top priorities.
                </p>
            </div>
        </div>
        <% } %>